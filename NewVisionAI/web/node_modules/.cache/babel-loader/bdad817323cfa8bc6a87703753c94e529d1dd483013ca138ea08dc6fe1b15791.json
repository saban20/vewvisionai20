{"ast":null,"code":"import React,{useRef,useEffect,useState}from'react';import AIEyewearEngine from'./AIEyewearEngine';import{motion}from'framer-motion';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FaceScanner3D=_ref=>{let{onMeasurementsComplete}=_ref;const videoRef=useRef(null);const canvasRef=useRef(null);const[engine,setEngine]=useState(null);const[status,setStatus]=useState('Initializing...');useEffect(()=>{const initEngine=async()=>{const aiEngine=new AIEyewearEngine(videoRef.current,canvasRef.current);await aiEngine.initialize();setEngine(aiEngine);setStatus('Ready');};initEngine();return()=>engine&&engine.stop();},[engine]);const handleCapture=()=>{if(engine){const data=engine.getMeasurements();onMeasurementsComplete({...data,recommendedStyle:engine.getRecommendedStyle()});setStatus('Captured');}};return/*#__PURE__*/_jsxs(motion.div,{className:\"glass-card\",whileHover:{scale:1.05},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"3D Face Scanner\"}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"video\",{ref:videoRef,style:{width:'100%',borderRadius:'12px'},autoPlay:true}),/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,style:{position:'absolute',top:0,left:0,width:'100%',opacity:0.9},width:\"640\",height:\"480\"}),/*#__PURE__*/_jsx(motion.div,{className:\"status-overlay\",animate:{opacity:[0.5,1,0.5]},transition:{repeat:Infinity,duration:2},style:{position:'absolute',bottom:20,left:'50%',transform:'translateX(-50%)',background:'rgba(0, 206, 209, 0.3)',padding:'8px 16px',borderRadius:'20px'},children:status})]}),/*#__PURE__*/_jsx(\"button\",{className:\"nebula-button\",onClick:handleCapture,style:{marginTop:'20px'},children:\"Capture\"})]});};export default FaceScanner3D;","map":{"version":3,"names":["React","useRef","useEffect","useState","AIEyewearEngine","motion","jsx","_jsx","jsxs","_jsxs","FaceScanner3D","_ref","onMeasurementsComplete","videoRef","canvasRef","engine","setEngine","status","setStatus","initEngine","aiEngine","current","initialize","stop","handleCapture","data","getMeasurements","recommendedStyle","getRecommendedStyle","div","className","whileHover","scale","children","style","position","ref","width","borderRadius","autoPlay","top","left","opacity","height","animate","transition","repeat","Infinity","duration","bottom","transform","background","padding","onClick","marginTop"],"sources":["/Users/saban/Desktop/New VisionAi 2.0/NewVisionAI/web/src/components/FaceScanner3D.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport AIEyewearEngine from './AIEyewearEngine';\nimport { motion } from 'framer-motion';\n\nconst FaceScanner3D = ({ onMeasurementsComplete }) => {\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [engine, setEngine] = useState(null);\n  const [status, setStatus] = useState('Initializing...');\n\n  useEffect(() => {\n    const initEngine = async () => {\n      const aiEngine = new AIEyewearEngine(videoRef.current, canvasRef.current);\n      await aiEngine.initialize();\n      setEngine(aiEngine);\n      setStatus('Ready');\n    };\n    initEngine();\n\n    return () => engine && engine.stop();\n  }, [engine]);\n\n  const handleCapture = () => {\n    if (engine) {\n      const data = engine.getMeasurements();\n      onMeasurementsComplete({ ...data, recommendedStyle: engine.getRecommendedStyle() });\n      setStatus('Captured');\n    }\n  };\n\n  return (\n    <motion.div className=\"glass-card\" whileHover={{ scale: 1.05 }}>\n      <h2>3D Face Scanner</h2>\n      <div style={{ position: 'relative' }}>\n        <video ref={videoRef} style={{ width: '100%', borderRadius: '12px' }} autoPlay />\n        <canvas\n          ref={canvasRef}\n          style={{ position: 'absolute', top: 0, left: 0, width: '100%', opacity: 0.9 }}\n          width=\"640\"\n          height=\"480\"\n        />\n        <motion.div\n          className=\"status-overlay\"\n          animate={{ opacity: [0.5, 1, 0.5] }}\n          transition={{ repeat: Infinity, duration: 2 }}\n          style={{\n            position: 'absolute',\n            bottom: 20,\n            left: '50%',\n            transform: 'translateX(-50%)',\n            background: 'rgba(0, 206, 209, 0.3)',\n            padding: '8px 16px',\n            borderRadius: '20px',\n          }}\n        >\n          {status}\n        </motion.div>\n      </div>\n      <button className=\"nebula-button\" onClick={handleCapture} style={{ marginTop: '20px' }}>\n        Capture\n      </button>\n    </motion.div>\n  );\n};\n\nexport default FaceScanner3D; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}